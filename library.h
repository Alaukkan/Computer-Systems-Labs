/*
 * data.h
 *
 *  Created on: 24 Oct 2024
 *      Authors: Alex Laukkanen & Anniina Viskari
 */

#ifndef LIBRARY_H_
#define LIBRARY_H_

struct accelerometer_t {
    float ax, ay, az;
};

struct gyroscope_t {
    float gx, gy, gz;
};

struct mpu_sample_t {
    float timestamp; //timestamp mostly used for analyzing data
    struct accelerometer_t accel;
    struct gyroscope_t gyro;
};

struct melody_t {
    int frequency;
    int duration; // in milliseconds
};

struct dictionary_t {
    char latin;
    char morse[6];
};


// Reference data for movement detection
const struct mpu_sample_t right_and_left[8] = {
    {598.98062, {-0.095, 0.520, -1.050}, {5.115, -1.820, 88.790}},
    {599.08194, {0.150, -0.195, -1.095}, {-17.280, -22.075, 110.235}},
    {599.18326, {-0.210, -1.030, -1.000}, {-15.180, -8.230, -60.830}},
    {599.28452, {-0.100, -0.620, -1.035}, {-0.765, -1.275, -130.585}},
    {599.38580, {0.102, 0.500, -0.990}, {-0.365, -0.910, -40.890}},
    {599.48709, {0.020, 0.160, -1.005}, {4.875, 0.220, 3.095}},
    {599.58841, {-0.065, -0.020, -1.020}, {-0.675, -2.235, 2.805}},
    {599.68976, {-0.060, 0.015, -1.020}, {0.275, -0.775, 1.600}}
};

const struct mpu_sample_t forward_and_back[8] = {
    {375.57414, {0.520, -0.100, -1.060}, {-18.660, -48.220, -22.980}},
    {375.67546, {-0.195, 0.150, -1.010}, {17.360, 67.395, 10.960}},
    {375.77675, {-1.090, -0.235, -1.065}, {-2.235, -8.480, 6.890}},
    {375.87805, {-0.605, -0.105, -0.915}, {-7.935, -32.450, -25.520}},
    {375.97931, {0.430, 0.095, -1.045}, {3.495, 10.315, 19.020}},
    {376.08063, {0.160, 0.025, -1.010}, {-13.365, 13.770, -13.755}},
    {376.18193, {-0.060, -0.025, -1.025}, {-2.145, -1.885, 9.540}},
    {376.28325, {-0.060, 0.010, -1.025}, {-1.415, 2.520, 6.180}}
};

struct mpu_sample_t twist[8] = {
    {79.15576, {-0.170, -0.110, -1.010}, {-3.420, 0.230, -250.000}},
    {79.25706, {0.040, 0.285, -1.025}, {-1.030, -7.775, -250.000}},
    {79.35841, {-0.010, 0.030, -1.005}, {-1.165, 0.575, -96.450}},
    {79.45972, {0.015, -0.005, -1.020}, {0.240, -1.045, 1.425}},
    {79.56104, {0.040, 0.235, -1.025}, {4.735, 2.005, 249.990}},
    {79.66235, {0.030, -0.130, -1.010}, {5.760, -8.845, 249.990}},
    {79.76364, {-0.030, -0.005, -1.020}, {0.525, 0.370, 99.725}},
    {79.86494, {-0.010, -0.020, -1.020}, {0.425, -0.045, 38.155}}
};

const struct mpu_sample_t* reference_data[3][8] = {right_and_left, forward_and_back, twist};

// different melodies
struct melody_t startup[3] = {
    {400, 100},
    {1000, 100},
    {0, 0}
};

struct melody_t shutdown[4] = {
    {1000, 100},
    {800, 100},
    {400, 200},
    {0, 0}
};

struct melody_t dot[2] = {
    {1000, 50},
    {0, 0}
};

struct melody_t dash[2] = {
    {1000, 400},
    {0, 0}
};

struct melody_t space[4] = {
    {1000, 50},
    {400, 50},
    {600, 100},
    {0, 0}
};

struct melody_t error[2] = {
    {100, 300},
    {0, 0}
};

struct melody_t recieving[15] = {
    {659, 100},
    {587, 100},
    {369, 200},
    {415, 200},
    {554, 100},
    {494, 100},
    {293, 200},
    {330, 200},
    {494, 100},
    {440, 100},
    {277, 200},
    {330, 200},
    {440, 400},
    {0, 400},
    {0, 0}
};


// dictionary for translating morse to Latin and eventually Latin to morse
const struct dictionary_t translation[36] = {
    {'A', ".-"},
    {'B', "-..."},
    {'C', "-.-."},
    {'D', "-.."},
    {'E', "."},
    {'F', "..-."},
    {'G', "--."},
    {'H', "...."},
    {'I', ".."},
    {'J', ".---"},
    {'K', "-.-"},
    {'L', ".-.."},
    {'M', "--"},
    {'N', "-."},
    {'O', "---"},
    {'P', ".--."},
    {'Q', "--.-"},
    {'R', ".-."},
    {'S', "..."},
    {'T', "-"},
    {'U', "..-"},
    {'V', "...-"},
    {'W', ".--"},
    {'X', "-..-"},
    {'Y', "-.--"},
    {'Z', "--.."},
    {'0', "-----"},
    {'1', ".----"},
    {'2', "..---"},
    {'3', "...--"},
    {'4', "....-"},
    {'5', "....."},
    {'6', "-...."},
    {'7', "--..."},
    {'8', "---.."},
    {'9', "----."}
};


#endif /* LIBRARY_H_ */
